{% extends '@EkynaAdmin/Entity/sided.html.twig' %}

{% block title %}
    <h1>{{ 'media.header.show'|trans({}, 'EkynaMedia')|raw }}</h1>
{% endblock %}

{% block actions %}
    {{ admin_resource_btn(context.config.id, 'Ekyna\\Bundle\\AdminBundle\\Action\\ListAction') }}
    {{ admin_resource_btn(context.config.id, 'Ekyna\\Bundle\\AdminBundle\\Action\\CreateAction') }}
{% endblock %}

{% block main %}
    <div class="actions">
        {{ admin_resource_btn(media, 'Ekyna\\Bundle\\AdminBundle\\Action\\UpdateAction') }}
        {{ admin_resource_btn(media, 'Ekyna\\Bundle\\AdminBundle\\Action\\DeleteAction') }}
    </div>
    <div class="show show-with-tabs">
        <ul class="nav nav-tabs" data-tab-key="{{ context.config.id }}">
            <li class="active">
                <a href="#media-general" id="toggle-general" data-toggle="tab">
                    {{ 'field.general'|trans({}, 'EkynaUi') }}
                </a>
            </li>
        </ul>
        <div class="show-body">
            <div class="tab-content">
                <div class="tab-pane active" id="media-general">
                    {{ show_row(media, 'media_media', {
                        'label': 'field.image',
                        'trans_domain': 'EkynaUi',
                        'label_col': 4
                    }) }}
                    {{ show_row(media.translations, 'translations', {
                        'fields': {
                            'title': {
                                'label': 'field.title',
                                'trans_domain': 'EkynaUi'
                            },
                            'description': {
                                'label': 'field.description',
                                'trans_domain': 'EkynaUi',
                                'type': 'tinymce',
                                'options': {
                                    'route': 'ekyna_media_media_admin_tinymce',
                                    'route_params': identifiers|merge({'mediaId': media.id}),
                                }
                            }
                        }
                    }) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
